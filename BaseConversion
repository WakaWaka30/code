#include <stdio.h>
#include <math.h>
long long int CheckBinary(long long int n){
    long long int a = n;
    while(1){
        if(a%10 != 0 && a%10!= 1){
            return 0;
            break;
        }
        else
            a = a/10;
        
        if(a<1){
            return 1;
            break;
        }    
            
    }
}
int DecimaltoOctal(int n){
    int a = n,oct=0,mul=1;
    while(1){
        oct = oct+mul*(a%8);
        a = a/8;
        mul = mul*10;
        if(a<1)
            break;
            
    }
    return oct;
}
int OctaltoDecimal(int n){
    int a = n,sum=0,p=0;
    while(1){
       sum = sum + (a%10)*pow(8,p); 
       a = a/10;
       p++;
       if(a<1)
           break;
       
            
        
    }
    return sum;
}
int DecimaltoBinary(int n){
    int a = n,bin=0,mul=1;
    while(1){
        bin = bin+mul*(a%2);
        a = a/2;
        mul = mul*10;
        if(a<1)
            break;
            
    }
    return bin;
    
}

long long int BinarytoDecimal(long long int n){
    long long int a = n,sum=0,p=0;
    while(1){
       sum = sum + (a%10)*pow(2,p); 
       a = a/10;
       p++;
       if(a<1)
           break;
       
            
        
    }
    return sum;
}
int main(){
    int n,x,y;
    long long int N;
    printf("Enter 1 for Binary to Decimal conversion\nEnter 2 for Decimal to Binary conversion\nEnter 3 for Decimal to Octal conversion\nEnter 4 for Octal to Decimal conversion: ");
    scanf("%d",&x);
    if(x==2){
        printf("Enter decimal number: ");
        scanf("%d",&n);
       
        
        printf("%d in base 2 is %d\n",n,DecimaltoBinary(n));
        
        
        
        printf("Enter 3 to restart\nEnter any other key to exit: ");
        scanf("%d",&y);
        if(y == 3){
            printf("\n\n");
            return main();
        }
        else 
            return 0;
    }
    else if(x==1){
        printf("Enter binary number: ");
        scanf("%lld",&N);
        if(CheckBinary(N)==0){
            printf("Error: Number is not binary\n\n");
            return main();
        }
        else{
            printf("%lld in base 10 is %lld\n",N,BinarytoDecimal(N));
        }
        
        printf("Enter 3 to restart\nEnter any other key to exit: ");
        scanf("%d",&y);
        if(y == 3){
            printf("\n\n");
            return main();
        }
        else 
            return 0;
    }
    else if(x == 3){
        printf("Enter decimal number: ");
        scanf("%d",&n);
       
        
        printf("%d in base 8 is %d\n",n,DecimaltoOctal(n));
        
        
        
        printf("Enter 3 to restart\nEnter any other key to exit: ");
        scanf("%d",&y);
        if(y == 3){
            printf("\n\n");
            return main();
        }
        else 
            return 0;
    
        
    }
    else if(x==4){
        printf("Enter octal number: ");
        scanf("%d",&n);
       
        
        printf("%d in base 10 is %d\n",n,OctaltoDecimal(n));
        
        
        
        printf("Enter 3 to restart\nEnter any other key to exit: ");
        scanf("%d",&y);
        if(y == 3){
            printf("\n\n");
            return main();
        }
        else 
            return 0;
    
        
    }
}
